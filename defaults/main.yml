# roles/acme_issue/defaults/main.yml

# --- Step-CA Server Configuration ---
acme_issue_step_ca_host: "ca.example.com"
acme_issue_step_ca_port: 8443

# --- ACME Server Configuration ---
acme_issue_directory_url: "https://ca.example.com/acme/directory"
acme_issue_account_key_path: "/etc/ssl/private/acme_account.key"

# --- Certificate Details (Required Inputs) ---
# The primary domain name for the certificate
acme_issue_cert_common_name: ""
# A list of all domain names (including the common name) for the cert
acme_issue_cert_sans: []
# A unique name for this service (e.g., "nextcloud", "grafana")
acme_issue_cert_service_name: ""

# --- File Paths and Permissions ---
# The webroot directory for placing the http-01 challenge file
acme_issue_cert_webroot: "/var/www/html"
# The directory to install the final certificate and key
acme_issue_cert_install_dir: "/etc/ssl"
# The owner and group for the final certificate files
acme_issue_cert_owner: "root"
acme_issue_cert_group: "root"

# --- Service to Reload ---
# The name of the web server service to reload on certificate change
acme_issue_web_server_service_name: "nginx"

# --- Certificate Renewal Settings ---
# Renew certificate if it expires within this many days
acme_issue_renewal_threshold_days: 30
# Force certificate renewal even if not expiring (for testing/debugging)
acme_issue_force_renewal: false
